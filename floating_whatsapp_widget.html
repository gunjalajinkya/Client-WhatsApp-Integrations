<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Floating WhatsApp Widget</title>
    <!-- Load Tailwind CSS from CDN for styling -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Custom Keyframe Animation for the Blinking/Heartbeat Effect */
        @keyframes heartbeat {
            0% {
                transform: scale(0.9);
                box-shadow: 0 0 0 0 rgba(37, 211, 102, 0.7);
            }
            50% {
                transform: scale(1.0);
                box-shadow: 0 0 0 10px rgba(37, 211, 102, 0);
            }
            100% {
                transform: scale(0.9);
                box-shadow: 0 0 0 0 rgba(37, 211, 102, 0.7);
            }
        }

        /* Styles for the Floating Widget */
        .whatsapp-float {
            /* Fixed position in the middle right of the screen */
            position: fixed;
            top: 50%; /* Position vertically in the center */
            right: 1.5rem; /* 6 (tailwind spacing) */
            transform: translateY(-50%); /* Adjust up by half its height to perfectly center it */
            z-index: 1000; /* Ensure it floats above other content */
            cursor: pointer;
            transition: transform 0.3s ease;
        }

        .whatsapp-float:hover {
            transform: translateY(-50%) scale(1.05);
        }

        .whatsapp-icon {
            /* Apply the custom animation */
            animation: heartbeat 1.5s infinite;
        }

        /* Ensure icon size is appropriate for mobile and desktop */
        .whatsapp-icon-size {
            width: 3.5rem; /* Default size (desktop) */
            height: 3.5rem;
        }

        /* Media query for mobile adjustments */
        @media (max-width: 640px) {
            .whatsapp-icon-size {
                width: 3rem; /* Slightly smaller on mobile */
                height: 3rem;
            }
            .whatsapp-float {
                 right: 1rem; /* Closer to the edge on mobile */
            }
        }
    </style>
</head>
<body>

<!--
    FLOATING WHATSAPP WIDGET
    ---------------------------------------------------------------------------------------------------------------------
    This widget is designed to be placed directly into the 'Tracking Code' (Footer) section of your Systeme.io funnels.
    It uses fixed positioning to appear in the vertical middle-right of the screen and includes a light pulsing effect.
    ---------------------------------------------------------------------------------------------------------------------

    CLIENT DETAILS:
    - Name: Coach Rajesh Roy
    - Project: The Self Healing Mastery Course
    - WhatsApp Number: +91 9006978869
-->
<div id="whatsapp-widget-container">
    <!-- WhatsApp Icon Wrapper -->
    <a id="whatsappLink"
       href="javascript:void(0);"
       target="_blank"
       rel="noopener noreferrer"
       class="whatsapp-float bg-green-500 rounded-full shadow-xl hover:shadow-2xl flex items-center justify-center p-2">

        <!-- Icon Circle with Heartbeat Animation -->
        <div class="whatsapp-icon whatsapp-icon-size rounded-full flex items-center justify-center">
            <!-- Inline SVG for WhatsApp Icon (Ensures no external loading issues) -->
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" fill="white" class="w-3/5 h-3/5">
                <!--! Font Awesome Pro 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. -->
                <path d="M380.9 97.1C339.2 55.4 283.6 32 225.6 32c-124 0-224 100-224 224 0 40 10.4 78 30.6 111.8l-34.8 127.6c-4.4 16 1.4 33 15.6 42s34.2 8.4 48.2-4.2l104-79.3c33.5 19.3 71.7 29.3 111.4 29.3 124 0 224-100 224-224 0-57.8-23.4-113.4-65.1-155.1zm-86.8 198.5H150.3c-10 0-18-8-18-18s8-18 18-18h143.7c10 0 18 8 18 18s-8 18-18 18z" />
            </svg>
        </div>
    </a>
</div>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        const whatsappLink = document.getElementById('whatsappLink');
        const number = '919006978869'; // WhatsApp number without the '+'
        
        // Custom message for Coach Rajesh Roy's course
        const message = 'I am interested in learning more about "The Self Healing Mastery Course" by Coach Rajesh Roy. Can you provide more details?';
        
        // URL encode the message
        const encodedMessage = encodeURIComponent(message);
        
        // Determine the correct WhatsApp URL based on device detection
        let url;
        const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);

        if (isMobile) {
            // Use API link for mobile to open the WhatsApp app
            url = `whatsapp://send?phone=${number}&text=${encodedMessage}`;
        } else {
            // Use web link for desktop
            url = `https://web.whatsapp.com/send?phone=${number}&text=${encodedMessage}`;
        }

        whatsappLink.href = url;
    });

    // We only need the body of the floating widget. No need for the full <html> structure on embed.
    // The reason for keeping the full structure is to make the file runnable in a local browser for easy testing.
</script>
</body>
</html>
